#!/usr/bin/env bash
# v10-ready Husky hook

# Tu mensaje pro
printf "\n\033[1;35mâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\033[0m\n"
printf "\033[1;35mâ•‘\033[0m  \033[1;36mI got your back, boss! ğŸ’¼\033[0m       \033[1;35mâ•‘\033[0m\n"
printf "\033[1;35mâ•‘\033[0m  \033[1;33mLet me clean up this code... ğŸ§¹\033[0m  \033[1;35mâ•‘\033[0m\n"
printf "\033[1;35mâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\033[0m\n\n"

# Formateo con Prettier (versiÃ³n robusta)
files=$(git diff --cached --name-only --diff-filter=ACM "*.{js,jsx,ts,tsx,json,md}" | xargs)
[ -z "$files" ] && exit 0

npx prettier --ignore-unknown --write $files && 
printf "\033[1;32mâœ“ Mission accomplished! Code polished. ğŸª„\033[0m\n" || 
printf "\033[1;31mâœ— Alert! Some files resisted formatting. ğŸš¨\033[0m\n"

git add $files